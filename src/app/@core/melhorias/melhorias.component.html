<form [formGroup]="form" *ngIf="form" class="form">
    <ng-container  formArrayName="melhorias">
        <ng-container *ngFor="let melhoriaForm of formControls; let i = index">
            <p-fluid>
                <div class="pt-5 pb-4 flex gap-4 w-full" [formGroup]="melhoriaForm">
                    <p-floatlabel class="grow">
                        <input id="titulo{{i}}" pInputText formControlName="titulo" />
                        <label for="titulo{{i}}">{{ this.formConfig.labels.titulo }}</label>
                    </p-floatlabel>
        
                    <p-button icon="pi pi-trash" aria-label="Excluir melhoria" (onClick)="confirmarExclusao($event, i)" [disabled]="desabilitarExclusao()" />
                </div>
            </p-fluid>
        </ng-container>
    </ng-container>

    <div class="flex justify-end">
        <p-button label="Adicionar" [text]="true" icon="pi pi-plus" (onClick)="addMelhoria()"/>
    </div>

    <div class="pt-6 flex justify-end">
        <p-button 
            label="AvanÃ§ar" 
            icon="pi pi-arrow-right" 
            iconPos="right" 
            [disabled]="desabilitaAvancar()"
            (onClick)="avancar()" />
    </div>
</form>


<p-toast />
<p-confirmdialog />